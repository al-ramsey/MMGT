\documentclass{MetricNotes2023}

% Language setting
% Replace `english' with e.g. `spanish' to change the document language


% Set page size and margins
% Replace `letterpaper' with `a4paper' for UK/EU standard size
\usepackage[a4paper,top=2cm,bottom=2cm,left=2cm,right=2cm,marginparwidth=1.75cm]{geometry}

% Useful packages
\usepackage{graphicx}
\graphicspath{ {./images/} }
\usepackage{float}


%inserting a figure:

%\begin{figure}[h]
%\centering
%\includegraphics[width=0.5\textwidth]{pfigure_1}
%\caption{The compound pendulum}
%\end{figure}
\setcounter{MaxMatrixCols}{20}
\usepackage{amsmath}
\usepackage{enumitem}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{realhats} %for hats
\usepackage[colorlinks=true, allcolors=blue]{hyperref}
%\usepackage{hyperref}
\usepackage{mathtools}
\usepackage{parskip}
%\usepackage{mbboard}
%\usepackage[mtpbbi]{mtpro2}
\usepackage{mathrsfs}


% knots stuff

\usepackage{tikz}
\usetikzlibrary{cd}
\usetikzlibrary{shapes,snakes}
\usepackage{listings}

%\graphicspath{ {figs/} }

\usepackage{cleveref}
\newcommand{\notimplies}{%
  \mathrel{{\ooalign{\hidewidth$\not\phantom{=}$\hidewidth\cr$\implies$}}}}

%keyword: edit

\def\summing{\ensuremath\sum^{\infty}_{n=1}}
\def\summingo{\ensuremath\sum^{\infty}_{n=0}}
\def\bb{\ensuremath\mathbb}
\def\la{\ensuremath\langle}
\def\ra{\ensuremath\rangle}
\def\notto{\ensuremath\nrightarrow}
\def\subq{\ensuremath\subseteq}

\def\met{\ensuremath(X, d)}
\def\metx{\ensuremath(X, d_X)}
\def\mety{\ensuremath(Y, d_Y)}
\def\topox{\ensuremath(X, \mathcal{T}_X)}
\def\topoy{\ensuremath(Y, \mathcal{T}_Y)}

\def\comp{\ensuremath\mathbb{C}}
\def\real{\ensuremath\mathbb{R}}
\def\rat{\ensuremath\mathbb{Q}}
\def\inte{\ensuremath\mathbb{Z}}
\def\nat{\ensuremath\mathbb{N}}
\def\topo{\ensuremath\mathcal{T}}

\def\sequiv{\ensuremath\stackrel{\text{S}}{\sim}}
\def\rr{\ensuremath\mathcal{R}}
\def\com{\ensuremath\Delta}
\def\id{\ensuremath\text{id}}
\def\hopf{\ensuremath\mathcal{H}}
\def\psip{\ensuremath\psi_{+}}
\def\psin{\ensuremath\psi_{-}}
\def\psipm{\ensuremath\psi_{\pm}}
\DeclareMathOperator{\trace}{trace}
\DeclareMathOperator{\tr}{tr}
\DeclareMathOperator{\str}{str}
\DeclareMathOperator{\End}{End}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\lk}{lk}
\DeclareMathOperator{\ob}{ob}
\DeclareMathOperator{\Fin}{Fin}
\DeclareMathOperator{\Ch}{Ch}

\def\done{\begin{flushright}\vspace{-4.35ex}\(\qed\)\end{flushright}}

\def\mlip{\ensuremath\abs f_\text{Lip}}


%\DeclareSymbolFont{bbold}{U}{bbold}{m}{n}
%\DeclareSymbolFontAlphabet{\mathbbold}{bbold}

% \limits\sum or \sum\limits (one of them) will put the text under the sum
% [upquote=true] on \begin{lstlisting} will stop backticks being interpreted as quotes

\usepackage[backend=bibtex]{biblatex}
\usepackage{csquotes}
\addbibresource{References.bib}

%\author{Ali Ramsey}
\title{Symmetric Monoidal \(\infty\)-Categories}
\date{\vspace{-5ex}}

\counterwithin{figure}{section}


\begin{document}
\maketitle
%\input{titlepage.tex}

\DeclarePairedDelimiter{\norm}{\lVert}{\rVert} 
\DeclarePairedDelimiter{\abs}{\lvert}{\rvert} 
\DeclarePairedDelimiter{\ang}{\langle}{\rangle} 

\begin{itemize}
\item Note: we will call \((\infty, 1)\)-categories \(\infty\)-categories. 
\item Main references: \autocite{higheralgebra}, \autocite{lurie2008higher}, \autocite{symmetricmonoidal}, \autocite{goodfibrations}, \autocite{groth2015short}, \autocite{kerodon}. Referencing Kerodon test: \cite[\href{https://kerodon.net/tag/01UB}{Example 01UB}]{kerodon}. 
\end{itemize}

\section{Pseudofunctors, opfibrations, and symmetric monoidal categories}

\subsection{Pseudofunctors to \textbf{Cat} are Grothendieck opfibrations}

\begin{itemize}
\item Grothendieck op-fibrations correspond to pseudofunctors to \textbf{Cat}.
\end{itemize}

The below gives an example to complement \autocite{symmetricmonoidal}.

Example of a pseudofunctor to \textbf{Cat}: Let \(\mathcal{C}\) be a category with pullbacks. Recall that for a map \(f : C \to D\) in \(\mathcal{C}\), we define a pullback functor 
\begin{align*}
f^* : \;\;\;\mathcal{C}_{/D}\;\;\;&\to\;\;\; \mathcal{C}_{/C},\\
(h : X \to D) &\mapsto (f^*h : P \to C),
\end{align*}
 where we have formed a pullback 
\[\begin{tikzcd}
P \arrow[r, "h^*f"] \arrow[d, swap, "f^*h"]  & X \arrow[d, "h"]  \\
C \arrow[r, swap, "f"]  & D
\end{tikzcd}\]
in \(\mathscr{C}\). For any map 
\[\begin{tikzcd}
X \arrow[rr, "\phi"] \arrow[dr, swap, "h"]  & & X' \arrow[dl, "h'"]  \\
& D  & 
\end{tikzcd}\]
from \(h\) to \(h'\) in \(\mathcal{C}_{/D}\), we define \(f^*\phi\) to be the unique map making the diagram below commute.
\[\begin{tikzcd}
X \arrow[rr, "\phi"] \arrow[dr, swap, "h"]  & & X' \arrow[dl, "h'"]  \\
& D  & \\
& & & \\
P \arrow[rr, dashrightarrow, "f^*\phi" {xshift=-10pt}] \arrow[uuu, "h^*f"] \arrow[dr, swap, "f^*h"] & & P' \arrow[uuu, swap, "h'^*f"] \arrow[dl, "f^*h'"]\\
& C \arrow[uuu, swap, "f" {yshift=8pt}] & 
\end{tikzcd}\]
Now, we may wish to define a functor 
\begin{align*}
F : \mathcal{C}^{\text{op}} &\to \textbf{Cat},\\
C &\mapsto \mathcal{C}_{/C},
\end{align*}
which sends a map \(f : C \to D\) in \(\mathcal{C}\) to a pullback functor \(f^* : \mathcal{C}_{/D}\to \mathcal{C}_{/C}\). However a problem arises when we check that \(F\) respects composition: suppose \(f : C \to D\), \(g : D \to E\) are maps in \(\mathcal{C}\). Then 
\[F(g \circ f)(h : X \to E)=(g\circ f)^*h : P \to C,\] corresponding to the pullback
\[\begin{tikzcd}
P \arrow[r, "h^*(g\circ f)"] \arrow[d, swap, "(g \circ f)^*h"]  & X \arrow[d, "h"]  \\
C \arrow[r, swap, "g\circ f"]  & E
\end{tikzcd}\]
in \(\mathcal{C}\). On the other hand, 
\[(F(g)\circ F(f))(h : X \to E)=f^*(g^*h) : P'' \to C,\] which corresponds to the diagram below.
\[\begin{tikzcd}
P'' \arrow[r, "(g^*h)^*f"] \arrow[d, swap, "f^*(g^*h)"]  & P' \arrow[r, "h^*g"] \arrow[d, "g^*h"] & X \arrow[d, "h"]  \\
C \arrow[r, swap, "f"]  & D \arrow[r, swap, "g"] & E
\end{tikzcd}\]
The outer square is indeed a pullback square, since the inner two squares are, so we have a unique isomorphism \(P \cong P''\). However, we do not in general have equality. This is because pullbacks are only unique up to unique isomorphism, and in defining a pullback functor we made arbitrary (and not necessarily compatible) choices of \(P, P'\) and \(P''\). Thus, we have not defined a functor \(\mathcal{C}^{\text{op}}\to \textbf{Cat}\), rather, we have defined what is known as a \textit{pseudofunctor}; that is, a weak functor between 2-categories. 

The above example is one way in which pseudofunctors into \textbf{Cat} naturally arise; another common example is the pseudofunctor
\begin{align*}
\textbf{CRing}&\to \textbf{Cat}\\
R\; &\mapsto R \textbf{-Mod},
\end{align*}
which sends a ring homomorphism \(\phi : R \to S\) to the functor \(-\otimes_R S : R \textbf{-Mod}\to S \textbf{-Mod}\) (extension of scalars). However, to give the data of a pseudofunctor \(F : \mathcal{C} \to \textbf{Cat}\), we must specify not only the functions \(\ob(\mathcal{C})\to \ob(\textbf{Cat})\) and \(\Hom_\mathcal{C}(X, Y)\to \Hom_\textbf{Cat}(F(X), F(Y))\) for each \(X, Y \in \mathcal{C}\), but also natural isomorphisms
\[F(\id_X) \cong \id_{F(X)}, \quad F(g \circ f) \cong F(g) \circ F(f).\]

This problem only becomes worse as we consider functors between higher categories...

Let's use Grothendieck opfibrations instead.

\begin{definition}
Let \(p : X \to \mathcal{C}\) be a functor, and let \(f : c \to c'\) be a morphism in \(\mathcal{C}\). A morphism \(\phi : x \to x'\) in \(X\) lying over \(f\) is \textit{\(p\)-cartesian} if for any other morphism \(\psi : x'' \to x'\) in \(X\), and for any morphism \(g : p(x'')\to c\) in \(\mathcal{C}\) satisfying \(f \circ g = p(\psi)\), there exists a unique morphism \(\gamma : x'' \to x\) such that \(p(\gamma)=g\) and \(\psi = \gamma \circ \phi\).  
\end{definition}

\[\begin{tikzcd}
 & & x'' \arrow[dddd, mapsto, ""] \arrow[dll, swap, "\forall \psi"] \arrow[dl, dashrightarrow, "\exists! \gamma"] & \\
x \arrow[r, swap, "\phi"] \arrow[dd, mapsto, swap, ""] & x' \arrow[dd, mapsto, swap, ""]  & & X \arrow[dd, swap, "p"] \\
& & & \\
c \arrow[r, "f"] & c'  & & \mathcal{C}\\
 & & p(x'') \arrow[llu, "p(\psi)"] \arrow[lu, swap, "\forall g"] & 
\end{tikzcd}\]

\begin{definition}
Let \(p : X \to \mathcal{C}\) be a functor, and let \(f : c \to c'\) be a morphism in \(\mathcal{C}\). A morphism \(\phi : x \to x'\) in \(X\) lying over \(f\) is \textit{\(p\)-cocartesian} if for any other morphism \(\psi : x \to x''\) in \(X\), and for any morphism \(g : c' \to p(x'')\) in \(\mathcal{C}\) satisfying \(g \circ f = p(\psi)\), there exists a unique morphism \(\gamma : x' \to x''\) such that \(p(\gamma)=g\) and \(\psi = \gamma \circ \phi\).  
\end{definition}

\[\begin{tikzcd}
 & & x'' \arrow[dddd, mapsto, ""] & \\
x \arrow[r, swap, "\phi"] \arrow[dd, mapsto, swap, ""] \arrow[urr, "\forall \psi"] & x' \arrow[dd, mapsto, swap, ""] \arrow[ur, dashrightarrow, swap, "\exists! \gamma"] & & X \arrow[dd, swap, "p"] \\
& & & \\
c \arrow[r, "f"] \arrow[rrd, swap, "p(\psi)"] & c' \arrow[rd, "\forall g"]  & & \mathcal{C}\\
 & & p(x'') & 
\end{tikzcd}\]


\begin{definition}\label{opfibration}
Let \(p : X \to \mathcal{C}\) be a functor. Then \(p\) is a \textit{Grothendieck fibration} if for any morphism of \(\mathcal{C}\) and any lift of its target, there is a \(p\)-cartesian morphism with that target lying over it. Dually, \(p\) is a \textit{Grothendieck opfibration} if for any morphism of \(\mathcal{C}\) and any lift of its source, there  is a \(p\)-cocartesian morphism with that source lying over it.
\end{definition}

We will usually refer to Grothendieck (op)fibrations as just (op)fibrations for brevity. Note that in \autocite{symmetricmonoidal} and \autocite{lurie2008higher} these are referred to as \textit{(co)cartesian fibrations}; we reserve this term for the \(\infty\)-category analogue. 

\begin{remark}\label{rem:op}
A functor \(p : X \to \mathcal{C}\) is an opfibration if and only if \(p^{\text{op}} : X^{\text{op}}\to \mathcal{C}^{\text{op}}\) is a fibration. We give the definition of an opfibration explicitly, since we will be working with these more often than fibrations.  
\end{remark}

Slightly confusing thing: Theorem 8.3.1 of \autocite{categorical} says fibrations (not opfibrations) into \(\mathcal{C}\) are ``the same" as pseudofunctors \(\mathcal{C} \to \textbf{Cat}\). nLab says the same thing but for pseudofunctors \(\mathcal{C}^{\text{op}}\to \textbf{Cat}\). Definition 2.2.7 of \autocite{fibrational_notions} gives the definition of an opfibration \(p : E \to B\) as a fibration \(E^{\text{op}}\to B^{\text{op}}\), which I believe; they also say in Theorem 2.2.3 that pseudofunctors into \(\mathcal{C}\) are the same as pseudofunctors \(\mathcal{C}^{\text{op}}\to \textbf{Cat}\), which means that opfibrations into \(\mathcal{C}\) (which are fibrations into \(\mathcal{C}^{\text{op}}\)) are pseudofunctors \(\mathcal{C} \to \textbf{Cat}\). Um? 

I don't need to prove the theorem above, but I should at least provide a way to move between the two!

\autocite{categorical} states the theorem I need nicely, but doesn't give a proof or even a reference for the non-discrete case. Another source is \autocite{monoidalgrothendieck}, which seems to give a proof (though I haven't checked it). 

\begin{theorem}[{\autocite{monoidalgrothendieck}, Thm 2.4}]\label{thm:grothendieck}
There is an equivalence of \(2\)-categories 
\[\textbf{Psd}[\mathcal{C}^{\text{op}}, \textbf{Cat}]\simeq \textbf{Fib}(\mathcal{C}),\]
where \(\textbf{Psd}[\mathcal{C}^{\text{op}}, \textbf{Cat}]\) is the \(2\)-category of pseudofunctors \(\mathcal{C}^{\text{op}}\to \textbf{Cat}\), and \(\textbf{Fib}(\mathcal{C})\hookrightarrow \textbf{Cat}_{/\mathcal{C}}\) is the \(2\)-category of fibrations into \(\mathcal{C}\). 
\end{theorem}

\begin{remark}
Combining \ref{rem:op} with \ref{thm:grothendieck} gives us an equivalence of \(2\)-categories
\[\textbf{Psd}[\mathcal{C}, \textbf{Cat}]\simeq \textbf{opFib}(\mathcal{C}).\]
\end{remark}

The definition below is basically definition 3.3 of \autocite{symmetricmonoidal}.

\begin{definition}
Let \(p : X \to \mathcal{C}\) and \(q : Y \to \mathcal{C}\) be two Grothendieck opfibrations. A functor \(F : X \to Y\) is a \textit{morphism of opfibrations} from \(p\) to \(q\) if the diagram below commutes,
\[\begin{tikzcd}
X \arrow[rd, swap, "p"] \arrow[rr, "F"]  & & Y \arrow[ld, "q"]  \\
& \mathcal{C}  & 
\end{tikzcd}\]
and \(F\) sends \(p\)-cocartesian morphisms to \(q\)-cocartesian morphisms. 
\end{definition}

\subsection{Symmetric monoidal categories are special pseudofunctors to \textbf{Cat}}

\begin{itemize}
\item Now that we know how to move between pseudofunctors to \textbf{Cat} and opfibrations, let's write the data of a symmetric monoidal category as a pseudofunctor to \textbf{Cat}.
\end{itemize}

Let \((\mathcal{C}, \otimes)\) be a symmetric monoidal category. Define a pseudofunctor 
\begin{align*}
F : \Fin_* &\to \textbf{Cat}\\
\ang{n}&\mapsto \mathcal{C}^n
\end{align*}
Let \(f : \ang{n}\to \ang{m}\) be a morphism in \(\Fin_*\). This induces a morphism 
\begin{align*}
f^* : (C_1, ...,C_n) &\mapsto (C_1', ..., C_m'),	
\end{align*}
where
\[C_i' = \bigotimes_{j \in f^{-1}\{i\}}C_j.\]
\subsection{...which are special opfibrations}

\begin{itemize}
\item The above implies there's some category \(\mathcal{D}\) such that opfibrations \(\mathcal{D}\to \Fin_*\) are the same as symmetric monoidal categories. Let's see what \(\mathcal{D}\) is.
\item (Usual) definition of symmetric monoidal category and translation into the language of op-fibrations into \(\text{Fin}_*\), running example of \(\textbf{Vect}_k\) with \(\otimes\) or \(\times\). 
\item Possibly mention swapping out \(\textbf{Fin}_*\) for \(\Delta^{\text{op}}\) gives a monoidal category rather than a symmetric monoidal category. (How do we get a braided monoidal category? Apparently there is no base 1-category we can look at opfibrations into, because the correct formulation is with \(E_2\), which has higher homotopy groups on the mapping spaces.)
\item Correspondence of symmetric monoidal functors with morphisms of opfibrations.
\end{itemize}

The construction below is in \autocite{higheralgebra}. 

Let \((\mathcal{C}, \otimes)\) be a symmetric monoidal category. We define a new category \(\mathcal{C}^\otimes\), whose objects are finite (possibly empty) sequences of objects of \(\mathcal{C}\), denoted by \([C_1, ..., C_n]\). A morphism 
\[[C_1, ..., C_n]\to [C_1', ..., C_m']\]
consists of a subset \(S \subq \{1, ..., n\}\), a map of finite sets \(\alpha : S \to \{1, ..., m\}\), and a collection of morphisms \(\{f_j : \bigotimes_{i \in \alpha^{-1}\{j\}} C_i \to C_j'\}_{1 \leq j \leq m}\) in \(\mathcal{C}\). 

For two morphisms \(f : [C_1, ..., C_n]\to [C_1', ..., C_m']\) and \(g : [C_1', ..., C_m']\to[C_1'', ..., C_l'']\), determining two subsets \(S \subq \{1, ..., n\}\) and \(T \subq \{1, ..., m\}\) and maps \(\alpha : S \to \{1, ..., m\}\), \(\beta : T \to \{1, ..., l\}\), the composition \(g \circ f\) is given by the subset \(U = \alpha^{-1}T \subq \{1, ..., n\}\), the map \(\beta \circ \alpha : U \to \{1, ..., l\}\) and the maps 
\[\left\{\bigotimes_{i \in (\beta \circ \alpha)^{-1}\{k\}} C_i \cong \bigotimes_{j \in \beta^{-1}\{k\}}\bigotimes_{i \in \alpha^{-1}\{j\}}C_i \to \bigotimes_{j \in \beta^{-1}\{k\}}C_j' \to C_k''\right\}_{1 \leq k \leq l}.\] 

For example, let 
\[f : [C_1, C_2, C_3, C_4]\to [C_1', C_2', C_3']\]
be a morphism in \(\mathcal{C}^\otimes\) consisting of the subset \(\{1, 2, 3\}\subq \{1, 2, 3, 4\}\), the map
\begin{align*}
\alpha : \{1, 2, 3\}&\to \{1, 2, 3\},\\
1 &\mapsto 1,\\
2 &\mapsto 2,\\
3 &\mapsto 3,
\end{align*}
and morphisms
\[f_1 : C_1 \to C_1', \quad f_2 : C_2 \otimes C_3 \to C_2', \quad f_3 : \textbf{1}\to C_3',\]
and let 
\[g : [C_1', C_2', C_3'] \to [C_1'', C_2'', C_3'']\]
be a morphism in \(\mathcal{C}^\otimes\) consisting of the subset \(\{1, 2, 3\}\subq \{1, 2, 3\}\), the map
\begin{align*}
\beta : \{1, 2, 3\}&\to \{1, 2, 3\},\\
1, 2, 3 &\mapsto 3,
\end{align*}
and morphisms
\[g_1 : \textbf{1} \to C_1'', \quad g_2 : \textbf{1} \to C_2'', \quad g_3 : C_1'\otimes C_2'\otimes C_3' \to C_3''.\]
Then the composition \(g \circ f \) consists of the subset \(\alpha^{-1}\{1, 2, 3\}=\{1, 2, 3\}\subq \{1, 2, 3, 4\}\), the map
\begin{align*}
\beta \circ \alpha : \{1, 2, 3\}&\to \{1, 2, 3\},\\
1, 2, 3 &\mapsto 3,
\end{align*}
and the morphisms
\[(g\circ f)_1 =g_1, \quad (g\circ f)_2 = g_2, \quad (g \circ f)_3 = g_3 \circ (f_1 \otimes f_2 \otimes f_3).\]
(really?)

(some intuition on this, tensor along the fibres, etc)

Claim: the forgetful functor
\begin{align*}
p : \quad\;\mathcal{C}^\otimes \quad\;&\to \;\;\Fin_*,\\
[C_1, ..., C_n] &\mapsto \;\ang{n}_*
\end{align*}
is an opfibration. (It almost tautologically is). 

\section{Generalisation to \(\infty\)-categories}

\begin{itemize}
\item Translation of the above into \(\infty\)-categorical language.
\item A functor \(p : D \to C\) between ordinary categories is a Grothendieck opfibration if and only if the induced functor \(N(p) : N(D) \to N(C)\) on nerves is a cocartesian fibration -- I *think* I have finally managed to prove this!
\item Some examples (nerve of an ordinary symmetric monoidal category, currently trying to find more examples -- many people talk about \textbf{Sp}, but it seems like I'd need a lot of background to understand this).
\item If an \(\infty\)-category has finite (co)products, there is a (co)cartesian monoidal structure on \(\mathcal{C}\). And we would have hoped so, because it's definitely true for \(1\)-categories!
\item Algebra objects in monoidal (\(\infty\)-)categories
\item Possibly generalisation to \(\infty\)-operads, depending on how much the above comes to or if I find anything fun to do with symmetric monoidal \(\infty\)-categories. 
\item Might be cool to try to look at \(E_k\) algebras, to resolve the earlier mystery of how to write braided monoidal categories.
\end{itemize}

We first need an \(\infty\)-categorical analogue of Grothendieck opfibrations. We start by requiring that our functor is what's known as an \textit{inner fibration}; there is no \(1\)--categorical analogue of this, since all functors between \(1\)-categories are automatically inner fibrations under the nerve functor (see \ref{ex:inner}). Think of it as a `minimum niceness condition' -- we want the fibres to be \(\infty\)-categories in much the same way as we want the fibres of ordinary functors to be categories themselves. 

\begin{definition}[{\autocite{goodfibrations}, Def 2.1}]
A functor \(p : X \to Y\) between simplicial sets is an \textit{inner fibration} if for all \(n \geq 2\), all \(0 < k < n\), and any solid arrow commutative square 
\[\begin{tikzcd}
\Lambda^n_k \arrow[r, ""] \arrow[d, hookrightarrow, swap, ""]  & X \arrow[d, "p"]  \\
\Delta^n \arrow[r, swap, ""] \arrow[ur, dashrightarrow, swap, ""]  & Y
\end{tikzcd}\]
there exists a dotted lift. 
\end{definition}

\begin{example}\label{ex:inner}
Let \(\mathcal{C}, \mathcal{D}\) be categories, and \(p : \mathcal{C} \to \mathcal{D}\) be a functor between them. Then \(N(p) : N \mathcal{C} \to N \mathcal{D}\) is an inner fibration.
\end{example}

The following proposition is stated without proof in Section 2.3 of \autocite{lurie2008higher}.

\begin{proposition}\label{pullback}
Let \(p : X \to Y\) be an inner fibration, and suppose that the diagram below is a pullback square in \textbf{sSet}.
\[\begin{tikzcd}
X' \arrow[r, "f"] \arrow[d, swap, "p'"] \arrow[dr, phantom, "\scalebox{1.3}{$\lrcorner$}" {xshift=-16pt, yshift=10pt}] & X \arrow[d, "p"]  \\
Y' \arrow[r, swap, "g"]  & Y
\end{tikzcd}\]
Then \(p'\) is also an inner fibration. 
\end{proposition}

\begin{ourproof}
Consider the (commutative) solid arrow diagram below.
\[\begin{tikzcd}
\Lambda^n_k \arrow[r, "\lambda"] \arrow[d, hookrightarrow, swap, "\iota"]  & X' \arrow[d, "p'" {yshift=-4pt}] \arrow[r, "f"] \arrow[dr, phantom, "\scalebox{1.3}{$\lrcorner$}" {xshift=-16pt, yshift=12pt}] & X \arrow[d, "p"]  \\
\Delta^n \arrow[r, swap, "\delta"] \arrow[urr, dashrightarrow, "\phi" {xshift=-8pt, yshift=-4pt}]  & Y' \arrow[r, swap, "g"] & Y
\end{tikzcd}\]
Since \(p\) is a fibration, there exists a dotted lift \(\phi\) of \(g \delta\); that is, \(p\phi = g \delta\) and \(\phi \iota = f \lambda\). Further, since the right square is a pullback diagram, there exists a unique map \(\phi' : \Delta^n \to X'\) making the diagram below commute.
\[\begin{tikzcd}
\Delta^n \arrow[rd, dashrightarrow, "\phi'"] \arrow[drr, bend left, "\phi"] \arrow[ddr, swap, bend right, "\delta"] & &  \\
 & X' \arrow[r, "f"] \arrow[d, swap, "p'"] \arrow[dr, phantom, "\scalebox{1.3}{$\lrcorner$}" {xshift=-16pt, yshift=10pt}]  & X \arrow[d, "p"] \\
 & Y' \arrow[r, swap, "g"] & Y
\end{tikzcd}\]
It remains to show that the triangle below commutes.
\[\begin{tikzcd}
\Lambda^n_k \arrow[r, "\lambda"] \arrow[d, hookrightarrow, swap, "\iota"]  & X' \\
\Delta^n \arrow[ur, dashrightarrow, swap, "\phi'"]  & 
\end{tikzcd}\]
Again, using the universal property of pullbacks, we see that there exist unique dotted maps such that the diagrams below commute.
\[\begin{tikzcd}
\Lambda^n_k \arrow[rd, dashrightarrow, ""] \arrow[drr, bend left, "f \lambda"] \arrow[ddr, swap, bend right, "\delta\iota"] & &  \\
 & X' \arrow[r, "f"] \arrow[d, swap, "p'"] \arrow[dr, phantom, "\scalebox{1.3}{$\lrcorner$}" {xshift=-16pt, yshift=10pt}] & X \arrow[d, "p"] \\
 & Y' \arrow[r, swap, "g"] & Y
\end{tikzcd} \quad \begin{tikzcd}
\Lambda^n_k \arrow[rd, dashrightarrow, ""] \arrow[drr, bend left, "f\phi'\iota"] \arrow[ddr, swap, bend right, "\delta\iota"] & &  \\
 & X' \arrow[r, "f"] \arrow[d, swap, "p'"] \arrow[dr, phantom, "\scalebox{1.3}{$\lrcorner$}" {xshift=-16pt, yshift=10pt}] & X \arrow[d, "p"] \\
 & Y' \arrow[r, swap, "g"] & Y
\end{tikzcd}\]
The maps \(\lambda\) and \(\phi'\iota\) make the left and right diagrams commute respectively. Further, we note that \(f\phi' = \phi\) (by the second diagram) and \(\phi \iota =f \lambda\) (since \(p\) is an inner fibration), so \(f\phi'\iota=f \lambda\). Therefore, the above two diagrams are identical. Thus, by the uniqueness property of pullbacks, \(\lambda = \phi'\iota\). \done
\end{ourproof}

%\begin{corollary}
%Let \(p : X \to Y\) be an inner fibration. Then each fibre \(X \times_{Y}\{y\}\) is an \(\infty\)-category.
%\end{corollary}

(Stupid note to self, very obvious but I forget it every now and again):
\begin{itemize}
\item If \(X : \Delta^{\text{op}}\to \textbf{Set}\) is a simplicial set, and \(\Delta^0 : \Delta^{\text{op}}\to \textbf{Set}:= \Hom(-, [0])\), then a map \(F : X \to \Delta^0\) is a natural transformation \((F_n : X_n \to *)_{n \in \nat_0}\). That is, such a natural transformation is a family of maps down to a point. In other words, there's only really one natural transformation, so we really *can* view \(\Delta^0\) as a point. 
\item If \(Y\) is a simplicial set, and \(y \in Y_0\) is a vertex of \(Y\), we can view \(\{y\}\) as a copy of \(\Delta^0\). Why is this? We can view \(\{y\}\) as the constant simplicial set, sending everything to \(y\). Then a natural isomorphism \(\Delta^0 \cong \{y\}\) is a collection of isomorphisms \((* \to *)\), of which there is exactly one. Why is it natural? Well, there's only one map from a one-point set to another one-point set, so the square always commutes. 
\end{itemize}

\begin{example}[{\autocite{goodfibrations}, Ex 2.2}]
Let \(p : X \to \Delta^0\) be the canonical map, and suppose we have the diagram below, such that the outer square commutes. 
\[\begin{tikzcd}
\Lambda^n_k \arrow[r, ""] \arrow[d, hookrightarrow, swap, ""]  & X \arrow[d, "p"]  \\
\Delta^n \arrow[r, swap, ""] \arrow[ur, dashrightarrow, swap, ""]  & \Delta^0
\end{tikzcd}\]
The lower triangle commutes automatically, so the statement that \(p\) is an inner fibration is equivalent to the statement that for all \(n \geq 2\), all \(0 < k < n\), and any map \(\Lambda^n_k \to X\), there exists a dotted lift.
\[\begin{tikzcd}
\Lambda^n_k \arrow[r, ""] \arrow[d, hookrightarrow, swap, ""]  & X  \\
\Delta^n \arrow[ur, dashrightarrow, swap, ""]  & 
\end{tikzcd}\]
That is, \(X\) is an \(\infty\)-category.

Now, combining the above argument with \ref{pullback}, we see that for any inner fibration \(p : X \to Y\), each fibre \(X\times_Y \{y\}\) is an \(\infty\)-category. 
\end{example}

\begin{definition}[{\autocite{goodfibrations}, Def 3.1}]
Let \(p : X \to Y\) be an inner fibration. An edge \(f : \Delta^1 \to X\) of \(X\) is \(p\)-\textit{cocartesian} if for all \(n \geq 2\), any extension 
\[\begin{tikzcd}
\Delta^{\{0, 1\}} \arrow[r, "f"] \arrow[d, hookrightarrow, swap, ""]  & X \\
\Lambda^n_0 \arrow[ur, swap, "F"]  & 
\end{tikzcd}\]
and any solid arrow commutative diagram
\[\begin{tikzcd}
\Lambda^n_0 \arrow[r, "F"] \arrow[d, hookrightarrow, swap, ""]  & X \arrow[d, "p"]  \\
\Delta^n \arrow[r, swap, ""] \arrow[ur, dashrightarrow, ""]  & Y
\end{tikzcd}\]
a dotted lift exists. 
\end{definition}

\begin{definition}
Let \(p : X \to Y\) be an inner fibration. Then \(p\) is a cocartesian fibration if for any edge \(\phi : y \to y'\) in \(Y_1\), and for every \(x \in X_0\) lying over \(y\), there exists a \(p\)-cocartesian edge \(f : x \to x'\) of \(X\) lying over \(\phi\). 
\end{definition}

The following proposition tells us that the above definition is a reasonable generalisation of \ref{opfibration}. It is also stated without proof in \autocite{lurie2008higher}, which did not do wonders for my ego. 

\begin{proposition}[{\autocite{lurie2008higher}, Rmk 2.4.2.2}]
Let \(\mathcal{C}\), \(\mathcal{D}\) be categories, and let \(p : \mathcal{C} \to \mathcal{D}\) be a functor between them. Then \(p\) is a Grothendieck opfibration if and only if the induced map \(N(p) : N \mathcal{C} \to N\mathcal{D}\) is a cocartesian fibration of simplicial sets.
\end{proposition}

\begin{ourproof}
Let \(f : d \to d'\) be a morphism of \(\mathcal{D}\), and let \(c\) lie over \(d\). 

Suppose \(p\) is a Grothendieck opfibration, let \(F : \Lambda^n_0 \to N \mathcal{C}\) be an extension of \(f\), and let 
\[\begin{tikzcd}
\Lambda^n_0 \arrow[r, "F"] \arrow[d, hookrightarrow, swap, ""]  & N\mathcal{C} \arrow[d, "N(p)"]  \\
\Delta^n \arrow[r, swap, ""]  & N\mathcal{D}
\end{tikzcd}\]
be a commutative diagram. If \(n=2\), it follows immediately from the fact that \(p\) is an opfibration that a dotted lift exists. Further, if \(n>3\), there is nothing to check, since an \(n\)-simplex in a category commutes if and only if all of its triangles commute, which is guaranteed for any extension \(F : \Lambda^n_0 \to N \mathcal{C}\). We thus prove the proposition for \(n=3\).

Suppose we have an extension \(F : \Lambda^3_0 \to N \mathcal{C}\) of \(f\); that is, a tetrahedron 
\[\begin{tikzcd}
& c \arrow[rr, "\chi"] \arrow[ddl, swap, "\phi"]  & & c''' \\
& & & \\
c' \arrow[rr, swap, "\gamma"] \arrow[rrruu, swap, "\gamma'" {xshift=8pt, yshift=6pt}] & & c'' \arrow[ruu, swap, "\gamma''"] \arrow[from=luu, swap, crossing over, "\psi" {xshift=-4pt, yshift=8pt}] & 
\end{tikzcd}\]
such that all faces containing the vertex \(c\) commute. Let
\[\begin{tikzcd}
& d \arrow[rr, "p(\chi)"] \arrow[ddl, swap, "f"]  & & p(c''') \\
& & & \\
d' \arrow[rr, swap, "p(\gamma)"] \arrow[rrruu, swap, "p(\gamma')" {xshift=8pt, yshift=6pt}] & & p(c'') \arrow[ruu, swap, "p(\gamma'')"] \arrow[from=luu, swap, crossing over, "p(\psi)" {xshift=-4pt, yshift=8pt}] & 
\end{tikzcd}\]
be a commutative tetrahedron in \(\mathcal{D}\). We claim that the tetrahedron in \(\mathcal{C}\) commutes. First, note that \(\gamma'' \circ \gamma\) is a lift of \(p(\gamma')\), since \(p(\gamma')=p(\gamma'')\circ p(\gamma)=p(\gamma'' \circ \gamma)\). Further,
\begin{align*}
(\gamma \circ \gamma'') \circ \phi&=\gamma'' \circ \psi\\
&= \chi.
\end{align*}
Thus, by the uniqueness in the universal property of \(\phi\), we have that \(\gamma'=\gamma'' \circ \gamma\), as required.

Now, suppose \(N(p)\) is a cocartesian fibration. Then there exists a lift \(\phi : c \to c'\) of \(f\), and, in particular, for any diagram
\[\begin{tikzcd}
& c \arrow[dl, swap, "\phi"] \arrow[dr, "\psi"]  & \\
c'  & & c''
\end{tikzcd}\]
in \(\mathcal{C}\), and any commutative diagram
\[\begin{tikzcd}
& d \arrow[dl, swap, "f"] \arrow[dr, "p(\psi)"]  & \\
d' \arrow[rr, swap, "g"] & & p(c'')
\end{tikzcd}\]
in \(\mathcal{D}\), there exists a map \(\gamma : c'\to c''\) such that \(\gamma\) lies over \(g\) and \(\gamma \circ \phi = \psi\). It remains to show that \(\gamma\) is unique. 

Suppose that there were two maps \(\gamma_1, \gamma_2 : c' \to c''\) lying over \(g\) and satisfying \(\gamma_1\circ\phi = \gamma_2 \circ \phi = \psi\). Then we would have a tetrahedron 

\[\begin{tikzcd}
& c \arrow[rr, "\psi"] \arrow[ddl, swap, "\phi"]  & & c'' \\
& & & \\
c' \arrow[rr, swap, "\gamma_1"] \arrow[rrruu, swap, "\gamma_2" {xshift=8pt, yshift=5pt}] & & c'' \arrow[ruu, swap, "\id"] \arrow[from=luu, swap, crossing over, "\psi" {xshift=-4pt, yshift=8pt}] & 
\end{tikzcd}\]
where all faces containing the vertex \(c\) commute. The image of this tetrahedron under \(p\) commutes in \(\mathcal{D}\), so the original tetrahedron must commute in \(\mathcal{C}\); that is, \(\gamma_1=\gamma_2\).\done

\section{A nontrivial example}

Throughout this section, \(\mathcal{A}\) is an abelian category, and \(\mathcal{A}_{\text{proj}}\) is the full subcategory of \(\mathcal{A}\) spanned by the projective objects. 

\begin{definition}[{\autocite{higheralgebra}, Def 1.2.3.1}]
A \textit{chain complex} with values in \(\mathcal{A}\) is a composable sequence of morphisms 
\[\cdots \to A_2 \xrightarrow{d(2)} A_1 \xrightarrow{d(1)}A_0 \xrightarrow{d(0)} A_{-1}\to \cdots\]
in \(\mathcal{A}\) such that \(d(n-1)\circ d(n)=0\) for all \(n \in \inte\). The collection of chain complexes with values in \(\mathcal{A}\) is an additive category, \(\Ch(\mathcal{A})\). 
\end{definition}

\begin{definition}[\autocite{higheralgebra}, Not 1.3.2.6]
\(\Ch^-(\mathcal{A})\) is the full subcategory of \(\Ch(\mathcal{A})\) spanned by those chain complexes \(M_*\) such that \(M_n \simeq 0\) for \(n << 0\). 
\end{definition}

\begin{definition}[{\autocite{higheralgebra}, Def 1.3.2.7}]
Suppose \(\mathcal{A}\) has enough projective objects. We let \(\mathcal{D}^-(\mathcal{A})\) denote the \(\infty\)-category \(N_{\text{dg}}(\Ch^-(\mathcal{A}_{\text{proj}}))\). We refer to \(\mathcal{D}^-(\mathcal{A})\) as the \textit{derived \(\infty\)-category of \(\mathcal{A}\)}.  
\end{definition}

%Let 
%\[\begin{tikzcd}
%& c \arrow[dl, swap, "\phi"] \arrow[dr, "\psi"]  & \\
%c'  & & c''
%\end{tikzcd}\quad \begin{tikzcd}
%& c \arrow[dl, swap, "\phi"] \arrow[dr, "\chi"]  & \\
%c'  & & c'''
%\end{tikzcd}\]
%be diagrams in \(\mathcal{C}\), and let
%\[\begin{tikzcd}
%& d \arrow[dl, swap, "f"] \arrow[dr, "p(\psi)"]  & \\
%d' \arrow[rr, swap, "g"] & & p(c'')
%\end{tikzcd}\quad \begin{tikzcd}
%& d \arrow[dl, swap, "f"] \arrow[dr, "p(\chi)"]  & \\
%d' \arrow[rr, swap, "g'"] & & p(c''')
%\end{tikzcd}\]
%be commutative diagrams in \(\mathcal{D}\). Then there exist maps \(\gamma : c' \to c''\) and \(\gamma' : c' \to c'''\) lying over \(g\) and \(g'\) respectively, and making the diagrams in \(\mathcal{C}\) commute. Suppose there were two maps \(\gamma'_1 \gamma'_2 : c' \to c'''\) lying over \(g'\) and making the right diagram in \(\mathcal{C}\) commute. 

%Again, since \(N(p)\) is a cocartesian fibration, for any tetrahedron
%\[\begin{tikzcd}
%& c \arrow[rr, "\chi"] \arrow[ddl, swap, "\phi"]  & & c''' \\
%& & & \\
%c' \arrow[rr, swap, ""] \arrow[rrruu, swap, ""] & & c'' \arrow[ruu, swap, ""] \arrow[from=luu, swap, crossing over, "\psi"] & 
%\end{tikzcd}\]
%where all faces containing the vertex \(c\) commute, if image commutes in \(\mathcal{D}\), then the original diagram must commute. 
\end{ourproof}

%This is a test to check pushing to GitHub is working as expected.

%\tableofcontents

%\pagebreak

\section{Miscellaneous stupid notes}

\subsection{Observations}

Let \(S \in \textbf{Set}\). We define the constant simplicial set 
\[\begin{tikzcd}
\overline{S} : \Delta^{\text{op}} \arrow[r, ""]  & \textbf{Set} \\
\left[n\right] \arrow[r, mapsto, swap, ""] \arrow[d, swap, "f"] & S\\
\left[m\right] \arrow[r, mapsto, swap, ""] & S \arrow[u, swap, "\id"]
\end{tikzcd}\]

It's a Kan complex. Why? Well, when you consider \(S\) as a discrete category, and take the nerve of it, you get \(\overline{S}\). You can then either just see than it's a Kan complex (fill the horns with identities) or use the fact that the nerve of a groupoid is a Kan complex. It's surely in \autocite{lurie2008higher} or \autocite{kerodon} somewhere. 

\subsection{Questions}

Questions:
\begin{itemize}
\item ...what *is* \(\textbf{Grpd}_\infty\)?
\end{itemize}

\subsection{Equivalent definitions}

\(\textbf{Grpd}_\infty\) 

An algebraic category

An equivalence of \(\infty\)-categories



\printbibliography

\end{document}